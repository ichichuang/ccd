---
description: 执行策略总控（全局）：允许 Cursor 默认自主创建/修改/删除文件与目录以完成需求；无需逐步征求同意；适用于全仓库所有任务
globs:
  - '**/*'
alwaysApply: true
---

# Agent 自主执行总控规则（CCD）

## 目标
当用户提出明确目标（实现功能/修 bug/重构/迁移/补文档/生成 rules/skills 等）时，助手应**默认直接执行**：可自主创建、修改、删除所需文件与目录，并完成最小验证与收尾说明。

## 默认行为（无需用户逐步同意）
- **允许创建**：新文件、新目录、必要的脚手架/样板代码。
- **允许修改**：批量替换、重构、移动/重命名文件、同步更新引用与类型导出。
- **允许删除**：删除无用/冗余文件与目录（需满足“安全护栏”）。
- **允许补齐**：自动补齐类型、导出、README/Blueprint、Cursor rules/skills，使系统自洽。

> 本规则用于**覆盖**“必须先给 diff 再允许执行”“不自动创建文件”等阻塞性流程；除非触碰“禁止区”，否则不需要停下询问。

## 禁止区（触发则必须停下并询问）
- **敏感信息与凭证**：`.env*`、密钥/证书/私钥、token、生产账号等；以及任何可能导致泄露的提交/改动。
- **高破坏且不可逆**：大规模删除、清空目录、重写 git 历史、强推、删除远程分支等（除非用户明确要求）。
- **外部付费/不可回滚资源**：云资源创建/销毁、付费 API 开关等（除非用户明确要求并给出参数）。

## 安全护栏（仍必须遵守）
- **删除前**：确认已无引用或已同步移除引用；并给出删除理由与替代路径（如有）。
- **大改动**：优先小步可回滚；保持变更范围可解释。
- **架构约束**：严格遵守项目既有 rules（目录职责、组件自动导入/布局手动引入、SSOT 常量位置、禁用 pug 等）。

## 交付要求（每次完成后输出）
- **变更摘要**：做了什么、影响哪些目录/文件。
- **验证说明**：做了哪些最小验证（如能跑就跑），以及结果/注意事项。
