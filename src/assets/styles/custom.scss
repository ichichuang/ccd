@use '@/assets/styles/custom-color.scss';
@use '@/assets/styles/custom-nprogress.scss';
@use '@/assets/styles/custom-primevue.scss';
@use '@/assets/styles/custom-datepicker.scss';

/* View Transitions API 样式 - 固定分层优先级避免闪白 */
::view-transition-old(root) {
  animation: none;
  background: var(--bg100-old, var(--bg100));
  will-change: clip-path, opacity;
  mix-blend-mode: normal;
  z-index: 1; /* 永远在底层 */
}

::view-transition-new(root) {
  animation: none;
  background: var(--bg100-new, var(--bg100));
  will-change: clip-path, opacity;
  mix-blend-mode: normal;
  z-index: 2; /* 永远在上层，避免白屏 */
}

/* 优化过渡性能：避免与 View Transitions 叠加，这里不对 html 应用全局过渡 */

/* 主题切换渐隐渐现蒙层样式 - 动态主题色版本 */
.theme-fade-overlay {
  pointer-events: none;
  backdrop-filter: blur(2px); /* 轻微模糊，过渡更柔和 */
  position: fixed;
  inset: 0;
  z-index: 2000;
  opacity: 0;
  transition: opacity 0.4s ease;
}

/* 浏览器兼容性处理 */
@supports not (view-transition-name: root) {
  .theme-transition {
    transition: all 0.3s ease;
  }

  .theme-switch {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
}

* {
  font-size: var(--fontSize);
}

/* 快捷样式 */
// 宽度高度比例 1:1
.size-1-1 {
  aspect-ratio: 1/1;
}

// 宽度高度比例 16:9
.size-16-9 {
  aspect-ratio: 16/9;
}

// 宽度高度比例 4:3
.size-4-3 {
  aspect-ratio: 4/3;
}

.oh-vue-icons {
  font-size: inherit;
}

.p-menuitem-icon,
.p-panelmenu-item-icon,
.p-menubar-item-icon,
.p-megamenu-item-icon,
.p-tieredmenu-item-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.background {
  // background-image: url('@/assets/images/background.jpeg');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}
